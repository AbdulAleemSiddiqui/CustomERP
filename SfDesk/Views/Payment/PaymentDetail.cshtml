


<link href="~/assets/css/jsgrid.min.css" rel="stylesheet" />
<link href="~/assets/css/jsgrid-theme.min.css" rel="stylesheet" />
<style>
    .total-row td {
        border-top: 2px solid #efefef;
    }
</style>
<div id="main-content">
    <div class="row">
        <div class="col-lg-12">
            <div class="card alert">
                <div class="jsgrid-table-panel">

                    <div id="Grid" class="table table-striped table-bordered dataTable no-footer"></div>

                </div>
                <!-- /# card -->
            </div>
            <!-- /# column -->
        </div>
    </div>
</div>


@*  <script src="~/assets/js/db.js"></script>*@
<script>

        $(document).ready(function () {
            debugger
            console.log(inventory)
        my()
    });







    function my(){

        $("#Grid").jsGrid({

            height: "auto",
            width: "100%",
            filtering: false,
            editing: true,
            inserting: false,
            sorting: true,
            paging: true,
            autoload: true,
            pageSize: 15,
            pageButtonCount: 5,
            deleteConfirm: "confirm",
            data: inventory,
            onItemUpdated: function (args) {
                var items = args.grid.option("data");
                debugger;
                allocamount =0
                items.forEach(function (item) {
                    if (item.Amount != undefined)
                    allocamount += parseFloat(item.Amount);

                });

            },
            controller: {
                updateItem: function (insertingClient) {

                    paydetail.push(insertingClient);
                    
                },



                deleteItem: function (deletingClient) {
                    paydetail.pop(insertingClient);
                
                }
            },
            pagerContainer: null,
            pageIndex: 1,
            pageSize: 20,
            pageButtonCount: 15,
            pagerFormat: "Pages: {first} {prev} {pages} {next} {last}    {pageIndex} of {pageCount}",
            pagePrevText: "Prev",
            pageNextText: "Next",
            pageFirstText: "First",
            pageLastText: "Last",
            pageNavigatorNextText: "...",
            pageNavigatorPrevText: "...",

            invalidMessage: "Invalid data entered!",

     

            fields: [

            {
                name: "PR_No", title: "Ref. No", type: "text", width: 80, editing:false
            },
            { name: "strngDate", title: "Trans Date", type: "text", width: 80,  editing: false },

          { name: "TotalAmount", title: "Invoice Total", type: "text", width: 80,  editing: false },
          { name: "Total_Tax", title: "Invoice Taxes", type: "number", width: 80,  editing: false },
          { name: "Due_Amount", title: "Due Amount", type: "text", width: 80,  editing: false },
          { name: "Amount", title: "Recipt", type: "number", width: 80, validate: "required", css: "totalRecipt" },
          { name: "Total", title: "Total", type: "number", width: 80, validate: "required", editing: false },


                   {
                       type: "control",     insertButton: false,
                       itemTemplate: function (_, item) {
                           
                           return jsGrid.fields.control.prototype.itemTemplate.apply(this, arguments);
                       }
                   }

            ]

        });
    }
</script>
